{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL;\nexport const fetchMovies = createAsyncThunk('movies/fetchMovies', async () => {\n  const res = await axios.get(`${API_URL}/movies`);\n  return res.data;\n});\nexport const addMovie = createAsyncThunk('movies/addMovie', async movie => {\n  const res = await axios.post(`${API_URL}/movies`, movie);\n  return res.data;\n});\nexport const deleteMovie = createAsyncThunk('movies/deleteMovie', async id => {\n  await axios.delete(`${API_URL}/movies/${id}`);\n  return id;\n});\nconst movieSlice = createSlice({\n  name: 'movies',\n  initialState: {\n    movies: [],\n    status: 'idle'\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchMovies.fulfilled, (state, action) => {\n      state.movies = action.payload;\n      state.status = 'succeeded';\n    }).addCase(addMovie.fulfilled, (state, action) => {\n      state.movies.push(action.payload);\n    }).addCase(deleteMovie.fulfilled, (state, action) => {\n      state.movies = state.movies.filter(m => m.id !== action.payload);\n    });\n  }\n});\nexport default movieSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","API_URL","process","env","REACT_APP_API_URL","fetchMovies","res","get","data","addMovie","movie","post","deleteMovie","id","delete","movieSlice","name","initialState","movies","status","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","push","filter","m","reducer"],"sources":["/Users/MacBook/Documents/GitHub/React/Task-test/src/redux/MovieSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nexport const fetchMovies = createAsyncThunk('movies/fetchMovies', async () => {\n  const res = await axios.get(`${API_URL}/movies`);\n  return res.data;\n});\n\nexport const addMovie = createAsyncThunk('movies/addMovie', async movie => {\n  const res = await axios.post(`${API_URL}/movies`, movie);\n  return res.data;\n});\n\nexport const deleteMovie = createAsyncThunk('movies/deleteMovie', async id => {\n  await axios.delete(`${API_URL}/movies/${id}`);\n  return id;\n});\n\nconst movieSlice = createSlice({\n  name: 'movies',\n  initialState: {\n    movies: [],\n    status: 'idle',\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder\n      .addCase(fetchMovies.fulfilled, (state, action) => {\n        state.movies = action.payload;\n        state.status = 'succeeded';\n      })\n      .addCase(addMovie.fulfilled, (state, action) => {\n        state.movies.push(action.payload);\n      })\n      .addCase(deleteMovie.fulfilled, (state, action) => {\n        state.movies = state.movies.filter(m => m.id !== action.payload);\n      });\n  },\n});\n\nexport default movieSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE7C,OAAO,MAAMC,WAAW,GAAGN,gBAAgB,CAAC,oBAAoB,EAAE,YAAY;EAC5E,MAAMO,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAE,GAAEN,OAAQ,SAAQ,CAAC;EAChD,OAAOK,GAAG,CAACE,IAAI;AACjB,CAAC,CAAC;AAEF,OAAO,MAAMC,QAAQ,GAAGV,gBAAgB,CAAC,iBAAiB,EAAE,MAAMW,KAAK,IAAI;EACzE,MAAMJ,GAAG,GAAG,MAAMN,KAAK,CAACW,IAAI,CAAE,GAAEV,OAAQ,SAAQ,EAAES,KAAK,CAAC;EACxD,OAAOJ,GAAG,CAACE,IAAI;AACjB,CAAC,CAAC;AAEF,OAAO,MAAMI,WAAW,GAAGb,gBAAgB,CAAC,oBAAoB,EAAE,MAAMc,EAAE,IAAI;EAC5E,MAAMb,KAAK,CAACc,MAAM,CAAE,GAAEb,OAAQ,WAAUY,EAAG,EAAC,CAAC;EAC7C,OAAOA,EAAE;AACX,CAAC,CAAC;AAEF,MAAME,UAAU,GAAGjB,WAAW,CAAC;EAC7BkB,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACZC,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAEC,OAAO,IAAI;IACxBA,OAAO,CACJC,OAAO,CAAClB,WAAW,CAACmB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACjDD,KAAK,CAACP,MAAM,GAAGQ,MAAM,CAACC,OAAO;MAC7BF,KAAK,CAACN,MAAM,GAAG,WAAW;IAC5B,CAAC,CAAC,CACDI,OAAO,CAACd,QAAQ,CAACe,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC9CD,KAAK,CAACP,MAAM,CAACU,IAAI,CAACF,MAAM,CAACC,OAAO,CAAC;IACnC,CAAC,CAAC,CACDJ,OAAO,CAACX,WAAW,CAACY,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACjDD,KAAK,CAACP,MAAM,GAAGO,KAAK,CAACP,MAAM,CAACW,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACjB,EAAE,KAAKa,MAAM,CAACC,OAAO,CAAC;IAClE,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAeZ,UAAU,CAACgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}